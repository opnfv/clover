{
  "comments": [
    {
      "key": {
        "uuid": "5a3f45e8_98d748ed",
        "filename": "docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 4469
      },
      "writtenOn": "2018-04-03T02:24:59Z",
      "side": 1,
      "message": "How do you build and test it locally before the changes are merged in the remote repository?",
      "revId": "b395e6c31765c68356912aa75c4f44bbdb1d9e55",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a3f45e8_d864304b",
        "filename": "docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 423
      },
      "writtenOn": "2018-04-03T03:18:13Z",
      "side": 1,
      "message": "with \"COPY setup.sh ${CLOVER_REPO_DIR}/docker/setup.sh\"\nwe could successfully build the image, run container, docker cp other souce file to the right path in container , pip install --upgrade, then we can test :).",
      "parentUuid": "5a3f45e8_98d748ed",
      "revId": "b395e6c31765c68356912aa75c4f44bbdb1d9e55",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a3f45e8_1b0e9234",
        "filename": "docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 4469
      },
      "writtenOn": "2018-04-03T07:09:31Z",
      "side": 1,
      "message": "Could we replace `git clone ...` with `COPY . ${CLOVER_REPO_DIR}`, since we have already cloned the repository to get `Dockerfile` and `setup.sh`. It will make local development much easier.\n\nMy 2 cents.",
      "parentUuid": "5a3f45e8_d864304b",
      "revId": "b395e6c31765c68356912aa75c4f44bbdb1d9e55",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a3f45e8_5b781a2b",
        "filename": "docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 423
      },
      "writtenOn": "2018-04-03T09:33:08Z",
      "side": 1,
      "message": "No, in clover/docker directory don\u0027t container all clover source code.\n\ndocker image build doesn\u0027t support copy file from parent dir.\n\n`COPY ../ ${CLOVER_REPO_DIR}` will get error:\n\n\"Forbidden path outside the build context: ../ ()\"\n\nFor local development use `docker run -v \u003clocal/path/clover\u003e:/home/opnfv/repos/clover` cloud be better.",
      "parentUuid": "5a3f45e8_1b0e9234",
      "revId": "b395e6c31765c68356912aa75c4f44bbdb1d9e55",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a3f45e8_b1d7bfec",
        "filename": "docker/Dockerfile",
        "patchSetId": 4
      },
      "lineNbr": 27,
      "author": {
        "id": 4469
      },
      "writtenOn": "2018-04-04T01:29:43Z",
      "side": 1,
      "message": "You may send the context explicitly, e.g. `docker build -f docker/Dockerfile \u003cCLOVER_REPO\u003e` \n\nIt is supported by releng to override those parameters. It allows us to build multiple images from the same repository. See example in https://git.opnfv.org/releng/tree/jjb/releng/opnfv-docker.yml#n88\n\n:-)",
      "parentUuid": "5a3f45e8_5b781a2b",
      "revId": "b395e6c31765c68356912aa75c4f44bbdb1d9e55",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}