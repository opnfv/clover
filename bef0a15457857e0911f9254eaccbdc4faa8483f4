{
  "comments": [
    {
      "key": {
        "uuid": "5a682502_2d05537a",
        "filename": "samples/services/jenkins/deploy.sh",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 7047
      },
      "writtenOn": "2018-10-12T01:07:05Z",
      "side": 1,
      "message": "Can we make the default namespace \u0027clover-cd\u0027? Or something else along those lines. It would be great to align the namespace here with Tianwei\u0027s spinnaker patch. He uses the namespace \u0027spinnaker\u0027.",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 26
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_9bdb01ed",
        "filename": "samples/services/jenkins/deploy.sh",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T11:25:42Z",
      "side": 1,
      "message": "Changed it to \u0027clover-cd\u0027",
      "parentUuid": "5a682502_2d05537a",
      "range": {
        "startLine": 12,
        "startChar": 12,
        "endLine": 12,
        "endChar": 26
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_0de337da",
        "filename": "samples/services/jenkins/resources/deployment.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 7047
      },
      "writtenOn": "2018-10-12T01:07:05Z",
      "side": 1,
      "message": "Can you make this clover-jenkins? It\u0027s just to stay consistent with what we already have.",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 22
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_fbccb537",
        "filename": "samples/services/jenkins/resources/deployment.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T11:25:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a682502_0de337da",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 22
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_add163fd",
        "filename": "samples/services/jenkins/resources/rbac.yaml",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 7047
      },
      "writtenOn": "2018-10-12T01:07:05Z",
      "side": 1,
      "message": "Does the deployment need an RBAC?",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 19,
        "endChar": 15
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_3bd74dc3",
        "filename": "samples/services/jenkins/resources/rbac.yaml",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T11:25:42Z",
      "side": 1,
      "message": "Since Jenkins will be creating slaves on K8s cluster so it needs permission to create and delete the slaves for an RBAC enabled cluster. Do you think I should use a RoleBinding instead of ClusterRoleBinding here? Using a rolebinding will limit Jenkins to \u0027clover-cd\u0027 namespace only",
      "parentUuid": "5a682502_add163fd",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 19,
        "endChar": 15
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_3bee2d89",
        "filename": "samples/services/jenkins/resources/rbac.yaml",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T12:29:57Z",
      "side": 1,
      "message": "I have just realized that I haven\u0027t applied rbac.yaml in deploy.sh, and creation of Jenkins slaves are working. Doubled checked it with my latest patch as well.\n\nI think it is because the default service account already has the required permissions. IMO in this scenario RBAC is not required but if we use a new service account for Jenkins then we have to cater for the required permissions using RBAC. Should I delete this file or create a new service account with the above role binding that gets attached to Jenkins pod?",
      "parentUuid": "5a682502_3bd74dc3",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 19,
        "endChar": 15
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_db93b9f8",
        "filename": "samples/services/jenkins/resources/rbac.yaml",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T12:53:38Z",
      "side": 1,
      "message": "Update: Tried with a new service account named \u0027clover-jenkins\u0027 without setting up RBAC for the account and Jenkins was still able to create slave (Taking back my previous words)\n\nI think the rbac.yaml is not required then, should I remove it? Please share if you have any inputs",
      "parentUuid": "5a682502_3bee2d89",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 19,
        "endChar": 15
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_4ded2fc3",
        "filename": "samples/services/jenkins/resources/svc-agent.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 7047
      },
      "writtenOn": "2018-10-12T01:07:05Z",
      "side": 1,
      "message": "clover-jenkins-agent",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 32
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_5bd209d3",
        "filename": "samples/services/jenkins/resources/svc-agent.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T11:25:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a682502_4ded2fc3",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 32
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_4d824f50",
        "filename": "samples/services/jenkins/resources/svc-agent.yaml",
        "patchSetId": 5
      },
      "lineNbr": 18,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-11T10:38:26Z",
      "side": 1,
      "message": "@wutianwei, type changed to \u0027LoadBalancer\u0027",
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_6de8ebb4",
        "filename": "samples/services/jenkins/resources/svc.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 7047
      },
      "writtenOn": "2018-10-12T01:07:05Z",
      "side": 1,
      "message": "clover-jenkins",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 26
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a682502_7bd8a5ef",
        "filename": "samples/services/jenkins/resources/svc.yaml",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 6741
      },
      "writtenOn": "2018-10-13T11:25:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a682502_6de8ebb4",
      "range": {
        "startLine": 4,
        "startChar": 8,
        "endLine": 4,
        "endChar": 26
      },
      "revId": "bef0a15457857e0911f9254eaccbdc4faa8483f4",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}